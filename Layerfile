# Layerfile

# Frontend (React) layer
frontend:
  # Specify the build directory for the frontend
  build_dir: vite-project/dist
  # Install dependencies and build React
  build:
    - cd vite-project
    - npm install
    - npm run build

# Backend (Flask) layer
backend:
  # Specify the Flask app directory
  app_dir: backend
  # Install dependencies for Flask
  setup:
    - cd backend
    - pip install -r requirements.txt
  # Run Flask server
  run:
    - cd backend
    - flask run --host=0.0.0.0 --port=4000

# Define layer dependencies if needed
# dependencies:
#   - frontend
#   - backend
